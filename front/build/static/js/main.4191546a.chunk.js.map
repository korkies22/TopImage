{"version":3,"sources":["util/socketio/events.js","assets/icons/magnifying-glass.svg","assets/icons/link.svg","assets/icons/autorenew.svg","assets/icons sync /^/like.*/.svg$","assets/icons/like.svg","assets/icons/likeU.svg","assets/icons sync /^/dislike.*/.svg$","assets/icons/dislike.svg","assets/icons/dislikeU.svg","assets/tuto sync /^/tuto.*/.png$","assets/tuto/tuto1.png","assets/tuto/tuto10.png","assets/tuto/tuto2.png","assets/tuto/tuto3.png","assets/tuto/tuto4.png","assets/tuto/tuto5-backup.png","assets/tuto/tuto5.png","assets/tuto/tuto6.png","assets/tuto/tuto7.png","assets/tuto/tuto8.png","assets/tuto/tuto9.png","assets/icons/logo.svg","assets/icons/menu.svg","assets/icons/help.svg","assets/icons/person.svg","util/state/localStorageUtil.js","store/accessKey/state.js","store/accessKey/actions.js","store/auth/state.js","store/auth/actions.js","store/contests/state.js","store/contests/actions.js","store/root/state.js","store/mainStore.js","store/contests/reducer.js","store/auth/reducer.js","store/accessKey/reducer.js","store/root/reducer.js","components/util/snackbar/Snackbar.js","components/login/loginForm/loginForm.js","components/login/signUpForm/signUpForm.js","pages/login/Login.js","components/actions/actionModal/ActionModal.js","components/actions/loader/Loader.js","components/search/searchItem/SearchItem.js","components/search/filter/Filter.js","components/util/filePreview/FilePreview.js","components/util/filePreviewList/FilePreviewList.js","components/home/Home.js","pages/home/Home.js","components/contest/Contest.js","pages/contest/Contest.js","pages/tutorial/Tutorial.js","components/nav/Nav.js","app/Router.js","app/Main.js","app/App.js","serviceWorker.js","index.js"],"names":["exports","CONTEST_EVENT","CONTEST_DETAIL_EVENT","ACTION_INSERT","ACTION_UPDATE","ACTION_DELETE","module","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","auth","token","tokenTimeout","user","refreshToken","saveAccessKey","accessKey","localStorage","setItem","saveAuth","authT","timeout","dateEnd","Date","getTime","index","JSON","stringify","logout","removeItem","loadAccessKey","getItem","storeAccessKey","type","payload","loadAuthFromLS","parse","console","error","setAuth","data","contests","curContest","activeContests","addContest","contest","updateContest","deleteContest","setContests","compareDate","filter","el","endDate","setCurContest","url","process","socketUrl","reducers","combineReducers","tempArray","state","initState","action","findIndex","_id","push","curContestTemp","item","key","splice","log","root","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","CustomSnackbarComponent","message","className","withRouter","props","useSelector","dispatch","useDispatch","useState","email","setEmail","password","setPassword","errorMsg","setErrorMsg","loginUser","a","preventDefault","re","test","String","toLowerCase","length","axios","post","res","history","response","noValidate","onSubmit","htmlFor","placeholder","aria-label","value","onChange","target","autoComplete","confirmPassword","setConfirmPassword","signUpUser","name","Login","isLogin","setIsLogin","onClick","bind","href","ActionModal","firstButtonRef","useRef","lastButtonRef","useLayoutEffect","current","focus","buttons","cancelCBK","cancelText","close","okCBK","okText","onKeyDown","keyCode","shiftKey","document","activeElement","tabIndex","ref","modalHeaderTitle","modalBody","Loader","SearchItem","useHistory","topImage","images","likes","src","forEach","goToDetail","private","isPrivate","element","onKeyPress","style","opacity","preload","disablePictureInPicture","controlsList","backgroundImage","date","hours","getHours","mins","getMinutes","ampm","getDate","getMonth","getFullYear","formatDate","username","Filter","contestFilter","setContestFilter","filtered","setFiltered","filterDates","setFilterDates","filterActive","setFilterActive","filterOwn","setFilterOwn","filterString","setFilterString","refDatePicker","useCallback","trueFilterString","trim","tempFilter","c","filterAnswer","includes","topic","startsWith","hasDate","mapContests","useEffect","require","alt","options","minDate","minuteIncrement","mode","dateFormat","dates","flatpickr","clear","checked","FilePreview","imagePreview","setImagePreview","video","setVideo","getFileType","file","match","URL","createObjectURL","isImage","reader","FileReader","onload","result","readAsDataURL","controls","removeFile","FilePreviewList","files","lastModified","wrapComponent","isModalOpen","setIsModalOpen","newContest","setNewContest","useRandom","setUseRandom","setFiles","isLoading","setIsLoading","buttonModal","createContest","undefined","limit","formData","FormData","append","sendContest","headers","Authorization","ans","insertedId","createSnackbar","progressBar","modalFormBody","newFiles","accept","tempFiles","concat","Array","from","multiple","parseInt","min","step","dateTimeout","setTimeout","deleteUserInfo","clearTimeout","accessKeyText","featuredRef","sortedImages","useMemo","sort","item1","item2","dislikes","curImage","setCurImage","curContestIndex","likePost","isDislike","body","contestId","curImageSet","scrollToRef","renewAccessKey","put","documentElement","scrollTop","offsetTop","requestAnimationFrame","scrollTo","Math","max","isVideo","select","execCommand","setSelectionRange","blur","readOnly","dateP","parseDate","likedBy","dislikedBy","storedAccessKey","useParams","privateValidation","setPrivateValidation","offlineMode","setOfflineMode","setAccessKey","contestPrivate","get","status","fetchData","getData","goBack","tutorialItems","title","description","Nav","isUserModalOpen","setUserModalOpen","isMobile","setIsMobile","logoutAction","to","exact","activeClassName","AppRouter","path","component","Tutorial","render","Main","navigator","onLine","isOnline","setIsOnline","updateNetworkInfo","setSocket","socket","tempSocket","socketIOClient","on","Events","setupSocket","addEventListener","disconnect","setupOnlineListeners","removeEventListener","Router","store","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","getElementById","origin","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4191546a.chunk.js","sourcesContent":["/*global exports*/\r\n/*eslint no-undef: \"error\"*/\r\n\r\nexports.CONTEST_EVENT=\"contests\";\r\nexports.CONTEST_DETAIL_EVENT=\"contest\";\r\n\r\nexports.ACTION_INSERT=\"action_insert\";\r\nexports.ACTION_UPDATE=\"action_update\";\r\nexports.ACTION_DELETE=\"action_delete\";","module.exports = __webpack_public_path__ + \"static/media/magnifying-glass.adf7b08c.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.e4498435.svg\";","module.exports = __webpack_public_path__ + \"static/media/autorenew.f4d9cf73.svg\";","var map = {\n\t\"./like.svg\": 122,\n\t\"./likeU.svg\": 123\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 121;","module.exports = __webpack_public_path__ + \"static/media/like.a467c6a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/likeU.08723e07.svg\";","var map = {\n\t\"./dislike.svg\": 125,\n\t\"./dislikeU.svg\": 126\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 124;","module.exports = __webpack_public_path__ + \"static/media/dislike.3f1544fc.svg\";","module.exports = __webpack_public_path__ + \"static/media/dislikeU.921dfa34.svg\";","var map = {\n\t\"./tuto1.png\": 130,\n\t\"./tuto10.png\": 131,\n\t\"./tuto2.png\": 132,\n\t\"./tuto3.png\": 133,\n\t\"./tuto4.png\": 134,\n\t\"./tuto5-backup.png\": 135,\n\t\"./tuto5.png\": 136,\n\t\"./tuto6.png\": 137,\n\t\"./tuto7.png\": 138,\n\t\"./tuto8.png\": 139,\n\t\"./tuto9.png\": 140\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 129;","module.exports = __webpack_public_path__ + \"static/media/tuto1.d1ae3bc7.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto10.1d2cd4ef.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto2.1e3ed942.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto3.933486e3.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto4.01d93e73.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto5-backup.e2c8a7aa.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto5.42414e7e.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto6.4d22a315.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto7.45d73162.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto8.d8cace18.png\";","module.exports = __webpack_public_path__ + \"static/media/tuto9.aeb9cc60.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.5cc607db.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.aa9d6fc1.svg\";","module.exports = __webpack_public_path__ + \"static/media/help.840adbfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/person.0c32117b.svg\";","const auth = {\r\n  token: null,\r\n  tokenTimeout: null,\r\n  user: null,\r\n  refreshToken: null\r\n};\r\n\r\nconst ACCESS_KEY=\"accessKey\";\r\n\r\nexport const saveAccessKey = (accessKey)=>{\r\n  localStorage.setItem(ACCESS_KEY,accessKey);\r\n};\r\n\r\nexport const loadAccessKey = () => {\r\n  let accessKey = localStorage.getItem(ACCESS_KEY);\r\n  return {\r\n    accessKey: accessKey\r\n  };\r\n};\r\n\r\n\r\nexport const saveAuth = authT => {\r\n  const timeout = authT.tokenTimeout;\r\n  const dateEnd = new Date(new Date().getTime() + timeout * 60 * 60 * 1000);\r\n  authT.tokenTimeout = dateEnd;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  for (const index in authT) {\r\n    localStorage.setItem(index, JSON.stringify(authT[index]));\r\n  }\r\n};\r\n\r\nexport const loadAuthFromLS = () => {\r\n  auth.token = localStorage.getItem(\"token\");\r\n  if (auth.token) {\r\n    // eslint-disable-next-line no-unused-vars\r\n    for (const index in auth) {\r\n      try {\r\n        auth[index] = JSON.parse(localStorage.getItem(index));\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n    if (new Date(auth.tokenTimeout) < new Date()) {\r\n      logout();\r\n      // eslint-disable-next-line no-unused-vars\r\n      for (const index in auth) {\r\n        auth[index] = null;\r\n      }\r\n    }\r\n  }\r\n  return auth;\r\n};\r\n\r\nexport const logout = () => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  for (const index in auth) {\r\n    localStorage.removeItem(index);\r\n  }\r\n};\r\n","import { loadAccessKey } from \"../../util/state/localStorageUtil\";\r\nexport default loadAccessKey();\r\n","export const storeAccessKey = accessKey => ({\r\n  type: \"SET_ACCESS_KEY\",\r\n  payload: accessKey,\r\n});","import { loadAuthFromLS } from \"../../util/state/localStorageUtil\";\r\nexport default loadAuthFromLS();\r\n","export const setToken = token => ({\r\n  type: \"SET_TOKEN\",\r\n  payload: token,\r\n});\r\n\r\nexport const setEmail = user => ({\r\n  type: \"SET_USER\",\r\n  payload: user,\r\n});\r\n\r\nexport const setAuth = data => ({\r\n  type: \"SET_AUTH\",\r\n  payload: data,\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: \"LOGOUT\",\r\n});\r\n","export default {\r\n  contests: [],\r\n  curContest: null,\r\n  activeContests: []\r\n};\r\n","export const addContest = (contest) =>({\r\n  type: \"ADD_CONTEST\",\r\n  payload: {\r\n    contest:contest\r\n  }\r\n});\r\n\r\nexport const updateContest = (data) =>{\r\n  return {\r\n    type: \"UPDATE_CONTEST\",\r\n    payload: data  \r\n  };\r\n};\r\n\r\n\r\nexport const updateCurContest = (data) =>{\r\n  return {\r\n    type: \"UPDATE_CUR_CONTEST\",\r\n    payload: data  \r\n  };\r\n};\r\n\r\nexport const deleteContest = (id) =>({\r\n  type: \"DELETE_CONTEST\",\r\n  payload: {\r\n    id:id\r\n  }\r\n});\r\n\r\nexport const setContests = (contests) => {\r\n  let compareDate=new Date();\r\n  return{\r\n    type: \"SET_CONTESTS\",\r\n    payload: {\r\n      contests:contests,\r\n      activeContests:contests.filter(el=>{\r\n        let date=new Date(el.endDate);\r\n        return date.getTime()>compareDate.getTime();\r\n      })\r\n    }\r\n  };\r\n};\r\n\r\nexport const setCurContest = (contest) => {\r\n  return{\r\n    type: \"SET_CONTEST\",\r\n    payload: {\r\n      contest\r\n    }\r\n  };\r\n};\r\n\r\nexport const setInactiveContest = (id) => \r\n  ({\r\n    type: \"SET_INACTIVE_CONTEST\",\r\n    payload: {\r\n      id:id\r\n    }\r\n  });","/* eslint-disable no-undef */\r\nconst url=process.env.REACT_APP_URL;\r\n\r\nexport default {\r\n  url:`${url}/api/`,\r\n  socketUrl:url\r\n};\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport accessKey from \"./accessKey\";\r\nimport auth from \"./auth\";\r\nimport contests from \"./contests\";\r\n\r\nimport root from \"./root\";\r\n\r\nconst reducers = combineReducers({\r\n  contests,\r\n  auth,\r\n  accessKey,\r\n  root\r\n});\r\n\r\nexport default createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state = initState, action) {\r\n  let index;\r\n  let tempArray;\r\n  let data;\r\n\r\n  switch (action.type) {\r\n  case \"ADD_CONTEST\":\r\n    index = state.contests.findIndex(el => el._id === action.payload.id);\r\n    tempArray = [...state.contests];\r\n    if (index !== -1) tempArray[index] = action.payload.contest;\r\n    else if (state.contests) tempArray.push(action.payload.contest);\r\n\r\n    return {\r\n      ...state,\r\n      contests: tempArray,\r\n    };\r\n  case \"UPDATE_CONTEST\":{\r\n    let curContestTemp = { ...state.curContest };\r\n    data=action.payload;\r\n    if (curContestTemp[\"_id\"] === data.id ) {\r\n      curContestTemp={...curContestTemp, ...data};\r\n    }\r\n    index = state.contests.findIndex(el => el._id === action.payload.id);\r\n    tempArray = [...state.contests];\r\n    if (index === -1) return state;\r\n\r\n    let item = tempArray[index];\r\n    // eslint-disable-next-line no-unused-vars\r\n    for (let key in action.payload) {\r\n      item[key] = action.payload[key];\r\n    }\r\n\r\n    tempArray[index] = item;\r\n    return {\r\n      ...state,\r\n      contests: tempArray,\r\n      curContest: curContestTemp,\r\n    };\r\n  }\r\n  case \"DELETE_CONTEST\":\r\n    index = state.contests.findIndex(el => el._id === action.payload.id);\r\n    tempArray = [...state.contests];\r\n    tempArray.splice(index, 1);\r\n\r\n    return {\r\n      ...state,\r\n      contests: tempArray,\r\n    };\r\n  case \"SET_INACTIVE_CONTEST\":\r\n    index = state.activeContests.findIndex(el => el._id === action.id);\r\n    tempArray = [...state.activeContests];\r\n    tempArray.splice(index, 1);\r\n    return {\r\n      ...state,\r\n      activeContests: tempArray,\r\n    };\r\n  case \"SET_CONTESTS\":\r\n    return {\r\n      ...state,\r\n      contests: action.payload.contests,\r\n      activeContests: action.payload.activeContests,\r\n    };\r\n  case \"SET_CONTEST\":\r\n    return {\r\n      ...state,\r\n      curContest: action.payload.contest,\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state = initState, action) {\r\n  switch (action.type) {\r\n  case \"SET_TOKEN\":\r\n    return {\r\n      ...state,\r\n      token: action.payload,\r\n    };\r\n  case \"SET_USER\":\r\n    return {\r\n      ...state,\r\n      user: action.payload,\r\n    };\r\n  case \"SET_AUTH\":\r\n    return {\r\n      ...state,\r\n      user: action.payload.user,\r\n      token: action.payload.token,\r\n      tokenTimeout: action.payload.tokenTimeout,\r\n      refreshToken: action.payload.refreshToken,\r\n    };\r\n  case \"LOGOUT\": {\r\n    return {\r\n      user: null,\r\n      token: null,\r\n      tokenTimeout: null,\r\n      refreshToken: null,\r\n    };\r\n  }\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state = initState, action) {\r\n  console.log(\"Action\",action.type,action.payload);\r\n  switch (action.type) {\r\n  case \"SET_ACCESS_KEY\":\r\n    return {\r\n      ...state,\r\n      accessKey: action.payload,\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n}\r\n","import initState from \"./state\";\r\n\r\nexport default function reducer(state=initState) {\r\n  return state;\r\n}\r\n","import React from \"react\";\r\nimport \"./Snackbar.scss\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction CustomSnackbarComponent({ message }) {\r\n  return (\r\n    <div className=\"snackbar\"\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n}\r\n\r\nCustomSnackbarComponent.propTypes={\r\n  message: PropTypes.string\r\n};\r\n\r\nexport default CustomSnackbarComponent;","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAuth } from \"../../../store/auth\";\r\nimport { saveAuth } from \"../../../util/state/localStorageUtil\";\r\nimport \"./loginForm.scss\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction LoginForm(props) {\r\n  const url = useSelector(state => state.root.url);\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const loginUser = async e => {\r\n    e.preventDefault();\r\n    var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i; // eslint-disable-line no-useless-escape\r\n    if (!email || !re.test(String(email).toLowerCase())) {\r\n      return setErrorMsg(\"You have to use a valid email\");\r\n    }\r\n    if (!password || password.length < 5) {\r\n      return setErrorMsg(\"The password must have at least 5 characters\");\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${url}users/login`, { email, password });\r\n      saveAuth(res.data);\r\n      dispatch(setAuth(res.data));\r\n      props.history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      console.log(err.response);\r\n      console.log(err.response.data.message);\r\n      if(err.response && err.response.data && err.response.data.message){\r\n        setErrorMsg(err.response.data.message);\r\n      }\r\n      else{\r\n        setErrorMsg(\"An internal error has ocurred, please try again later\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"loginForm\" noValidate onSubmit={loginUser}>\r\n      <label htmlFor=\"email\">\r\n        <input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          aria-label=\"email\"\r\n          value={email.value}\r\n          onChange={e => setEmail(e.target.value)}\r\n          autoComplete=\"Email\"\r\n          className=\"loginForm__input\"\r\n        />\r\n      </label>\r\n      <label htmlFor=\"password\">\r\n        <input\r\n          id=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          aria-label=\"password\"\r\n          value={password.value}\r\n          onChange={e => setPassword(e.target.value)}\r\n          autoComplete=\"current-password\"\r\n          className=\"loginForm__input\"\r\n        />\r\n      </label>\r\n      {errorMsg ? <p className=\"loginForm__errorMsg\">{errorMsg}</p> : null}\r\n      <button\r\n        className={`loginForm__button ${\r\n          errorMsg ? \"loginForm__button--error\" : \"\"\r\n        }`}\r\n        type=\"submit\"\r\n      >\r\n        Login\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nLoginForm.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default withRouter(LoginForm);\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAuth } from \"../../../store/auth\";\r\nimport { saveAuth } from \"../../../util/state/localStorageUtil\";\r\nimport \"./signUpForm.scss\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction SignUpForm(props) {\r\n  const url = useSelector(state => state.root.url);\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const signUpUser = async e => {\r\n    e.preventDefault();\r\n    var re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i; // eslint-disable-line no-useless-escape\r\n    if (!email || !re.test(String(email).toLowerCase())) {\r\n      return setErrorMsg(\"You have to use a valid email\");\r\n    }\r\n    if (!password || password.length < 5) {\r\n      return setErrorMsg(\"The password must have at least 5 characters\");\r\n    }\r\n    if (confirmPassword !== password) {\r\n      return setErrorMsg(\"Las contraseas deben coincidir\");\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${url}users/signup`, { email, password });\r\n      saveAuth(res.data);\r\n      dispatch(setAuth(res.data));\r\n      props.history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      console.log(err.response);\r\n      if(err.response && err.response.data && err.response.data.message){\r\n        setErrorMsg(err.response.data.message);\r\n      }\r\n      else{\r\n        setErrorMsg(\"An internal error has ocurred, please try again later\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"signUpForm\" noValidate onSubmit={signUpUser}>\r\n      <input\r\n        type=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        aria-label=\"email\"\r\n        placeholder=\"Email\"\r\n        value={email.value}\r\n        onChange={e => setEmail(e.target.value)}\r\n        autoComplete=\"Email\"\r\n        className=\"signUpForm__input\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        id=\"password\"\r\n        aria-label=\"password\"\r\n        placeholder=\"Password\"\r\n        value={password.value}\r\n        onChange={e => setPassword(e.target.value)}\r\n        autoComplete=\"new-password\"\r\n        className=\"signUpForm__input\"\r\n      />\r\n      <input\r\n        id=\"confirmPassword\"\r\n        type=\"password\"\r\n        aria-label=\"ConfirmPassword\"\r\n        placeholder=\"Confirm Password\"\r\n        value={confirmPassword.value}\r\n        onChange={e => setConfirmPassword(e.target.value)}\r\n        autoComplete=\"new-password\"\r\n        className=\"signUpForm__input\"\r\n      />\r\n      {errorMsg ? <p className=\"signUpForm__errorMsg\">{errorMsg}</p> : null}\r\n      <button\r\n        className={`signUpForm__button ${\r\n          errorMsg ? \"signUpForm__button--error\" : \"\"\r\n        }`}\r\n        type=\"submit\"\r\n      >\r\n        SignUp\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nSignUpForm.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default withRouter(SignUpForm);\r\n","import React, { useState } from \"react\";\r\nimport \"./login.scss\";\r\nimport LoginForm from \"../../components/login/loginForm/loginForm\";\r\nimport SignUpForm from \"../../components/login/signUpForm/signUpForm\";\r\n\r\nfunction Login() {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n\r\n  const toggleIsLogin = () => {\r\n    setIsLogin(!isLogin);\r\n  };\r\n\r\n  return (\r\n    <div className=\"loginPage\">\r\n      <div className=\"loginPage__container\">\r\n        <h1 className=\"loginPage__title\">Top</h1>\r\n        {isLogin ? <LoginForm></LoginForm> : <SignUpForm></SignUpForm>}\r\n        <p>\r\n          {isLogin ? \"Are you new?\" : \"Have you joined?\"}{\" \"}\r\n          <span\r\n            className=\"loginPage__butSwitch\"\r\n            onClick={toggleIsLogin.bind(null)}\r\n          >\r\n            {isLogin ? \"Sign up\" : \"Login\"}\r\n          </span>\r\n        </p>\r\n        <p>\r\n          Lost? Check out the tutorial{\" \"}\r\n          <a href=\"/tutorial\" target=\"_blank\" className=\"loginPage__butSwitch\">\r\n            Tutorial\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useRef, useLayoutEffect } from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ActionModal = props => {\r\n  const firstButtonRef = useRef(null);\r\n  const lastButtonRef = useRef(null);\r\n\r\n  useLayoutEffect(() => {\r\n    if (firstButtonRef.current) firstButtonRef.current.focus();\r\n  }, [\r\n    firstButtonRef\r\n  ]);\r\n\r\n  const handleExit = e => {\r\n    if (e.keyCode === 9) {\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === firstButtonRef.current) {\r\n          e.preventDefault();\r\n          lastButtonRef.current.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === lastButtonRef.current) {\r\n          e.preventDefault();\r\n          firstButtonRef.current.focus();\r\n        }\r\n      }\r\n    }\r\n    if (e.key === \"Escape\") {\r\n      props.close();\r\n    }\r\n  };\r\n\r\n  const buttons = [];\r\n  if (props.cancelCBK && props.cancelText)\r\n    buttons.push(\r\n      <button\r\n        className=\"modal__button modal__button--cancel\"\r\n        key={1}\r\n        onClick={() => {\r\n          props.cancelCBK();\r\n          if(props.close)\r\n            props.close();\r\n        }}\r\n      >\r\n        {props.cancelText}\r\n      </button>\r\n    );\r\n  if (props.okCBK && props.okText)\r\n    buttons.push(\r\n      <button\r\n        className=\"modal__button modal__button--ok\"\r\n        key={0}\r\n        onClick={() => {\r\n          props.okCBK();\r\n          if(props.close)\r\n            props.close();\r\n        }}\r\n      >\r\n        {props.okText}\r\n      </button>\r\n    );\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal__backdrop\" onClick={() => props.close?props.close():null} />\r\n      <div className=\"modal__content\" onKeyDown={handleExit} tabIndex=\"0\">\r\n        <div className=\"modal__header\">\r\n          {\r\n            props.close?\r\n              <button\r\n                className=\"modal__header__close\"\r\n                onClick={() => props.close()}\r\n                ref={firstButtonRef}\r\n              >\r\n                &times;\r\n              </button>\r\n              :null\r\n          }\r\n          <h4 className=\"modal__header__title\">{props.modalHeaderTitle}</h4>\r\n        </div>\r\n        <div className=\"modal__body\">{props.modalBody}</div>\r\n        {props.errorMsg?<p className=\"modal__errorMsg\">{props.errorMsg}</p>:null}\r\n        <div className=\"modal__footer\" ref={lastButtonRef} tabIndex=\"0\">\r\n          {buttons}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nActionModal.propTypes = {\r\n  okCBK: PropTypes.func,\r\n  cancelCBK: PropTypes.func,\r\n  okText: PropTypes.string,\r\n  cancelText: PropTypes.string,\r\n  modalHeaderTitle: PropTypes.string,\r\n  modalBody: PropTypes.any,\r\n  close: PropTypes.func,\r\n  errorMsg: PropTypes.string\r\n};\r\n\r\nexport default ActionModal;\r\n","import React from \"react\";\r\nimport \"./Loader.scss\";\r\n\r\nconst Loader = ()=>{\r\n\r\n  return (\r\n    <div className=\"lds\">\r\n      <div className=\"lds-backdrop\"></div>\r\n      <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React from \"react\";\r\nimport \"./SearchItem.scss\";\r\n\r\nimport { setCurContest } from \"../../../store/contests\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction SearchItem(props) {\r\n  let history = useHistory();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const topImage = images => {\r\n    if (!images || !images[0]) return \"\";\r\n    let likes = 0;\r\n    let src = images[0].url;\r\n\r\n    images.forEach(el => {\r\n      if (el.likes > likes) {\r\n        likes = el.likes;\r\n        src = el.url;\r\n      }\r\n    });\r\n\r\n    return src;\r\n  };\r\n  const formatDate = date => {\r\n    if (!date) return date;\r\n    date = new Date(date);\r\n    let hours = date.getHours();\r\n    let mins = date.getMinutes();\r\n    let ampm = hours >= 12 ? \"pm\" : \"am\";\r\n\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // the hour '0' should be '12'\r\n    hours = hours < 10 ? \"0\" + hours : hours;\r\n    mins = mins < 10 ? \"0\" + mins : mins;\r\n    return `${date.getDate()}/${date.getMonth() +\r\n      1}/${date.getFullYear()} ${hours}:${mins}${ampm}`;\r\n  };\r\n\r\n  const goToDetail = contest => {\r\n    if (!contest.private) dispatch(setCurContest(contest));\r\n    history.push(`contests/${contest._id}`);\r\n  };\r\n\r\n  const buildHandleEnterKeyPress = onClick => ({ key }) => {\r\n    if (key === \"Enter\") {\r\n      onClick();\r\n    }\r\n  };\r\n\r\n  const isPrivate = () => {\r\n    return props.element.private === \"1\" || props.element.private === 1;\r\n  };\r\n\r\n  const isVideo = url => {\r\n    return /\\.(webm|ogg|mp4)$/i.test(url);\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className=\"search-item\"\r\n      onClick={() => {\r\n        goToDetail(props.element);\r\n      }}\r\n      onKeyPress={buildHandleEnterKeyPress(() => goToDetail(props.element._id))}\r\n      style={{\r\n        opacity: isPrivate() ? 0.7 : 1,\r\n      }}\r\n    >\r\n      {isPrivate() ? <div className=\"search-item__privateImg\"></div> : null}\r\n      {/*}<div className=\"search-item__container\">\r\n        <span className=\"search-item__num\">X{props.element.images.length}</span>\r\n    </div>}*/}\r\n      {isVideo(topImage(props.element.images)) ? (\r\n        <video\r\n          src={topImage(props.element.images)}\r\n          className=\"search-item__img\"\r\n          preload=\"metadata\"\r\n          disablePictureInPicture\r\n          controlsList=\"nodownload\"\r\n          onClick={e => e.preventDefault()}\r\n        ></video>\r\n      ) : (\r\n        <div\r\n          className=\"search-item__img\"\r\n          style={{\r\n            backgroundImage: \"url(\" + topImage(props.element.images) + \")\",\r\n          }}\r\n        ></div>\r\n      )}\r\n\r\n      {/*Text*/}\r\n\r\n      <h2 className=\"search-item__name\">{props.element.name}</h2>\r\n      <div className=\"search-item__group\">\r\n        <div className=\"search-item__detailText\">\r\n          <p className=\"search-item__text\">\r\n            End date: {formatDate(props.element.endDate)}\r\n          </p>\r\n          <p className=\"search-item__text\">Creator: {props.element.username}</p>\r\n        </div>\r\n        <div className=\"search-item__arrow\" />\r\n      </div>\r\n    </button>\r\n  );\r\n}\r\n\r\nSearchItem.propTypes = {\r\n  element: PropTypes.object,\r\n  index: PropTypes.number,\r\n};\r\n\r\nexport default SearchItem;\r\n","/* eslint-disable no-undef */\r\n\r\nimport React, { useState, useEffect,useCallback,useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport \"./Filter.scss\";\r\nimport SearchItem from \"../searchItem/SearchItem\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"../../actions/Flatpickr.scss\";\r\nimport Flatpickr from \"react-flatpickr\";\r\n\r\nfunction Filter(props) {\r\n  const [contestFilter, setContestFilter] = useState(\r\n    props.contests);\r\n  const email = useSelector(state =>\r\n    state.auth.user ? state.auth.user.email : \"\"\r\n  );\r\n\r\n  const [filtered, setFiltered] = useState(false);\r\n  const [filterDates, setFilterDates] = useState([]);\r\n  const [filterActive, setFilterActive] = useState(true);\r\n  const [filterOwn, setFilterOwn] = useState(false);\r\n  const [filterString, setFilterString] = useState(\"\");\r\n\r\n  const refDatePicker = useRef(null);\r\n\r\n  const clearDates=()=>{\r\n    if(refDatePicker.current)\r\n      refDatePicker.current.flatpickr.clear();\r\n  };\r\n\r\n  const filter = useCallback(()=> {\r\n    let trueFilterString= filterString.trim().toLowerCase()\r\n    if(trueFilterString){\r\n      setFiltered(true);\r\n    }\r\n    else{\r\n      setFiltered(false);\r\n    }\r\n    \r\n    let tempFilter = props.contests.filter(c => {\r\n      let filterAnswer =\r\n        (c.name && c.name.toLowerCase().includes(trueFilterString)) ||\r\n        (c.topic && c.topic.toLowerCase() && c.topic.toLowerCase().includes(trueFilterString)) ||\r\n        (c.topic && c.username.toLowerCase().startsWith(trueFilterString));\r\n\r\n      let date = new Date(c.endDate);\r\n      if (props.hasDate && filterDates && filterDates.length >= 2) {\r\n        filterAnswer =\r\n          filterAnswer &&\r\n          (new Date(filterDates[0]).getTime() <= date.getTime() &&\r\n            date.getTime() <= new Date(filterDates[1]).getTime());\r\n      }\r\n\r\n      if (filterActive) {\r\n        filterAnswer = filterAnswer && new Date().getTime() <= date.getTime();\r\n      }\r\n\r\n      if (filterOwn) {\r\n        filterAnswer = filterAnswer && c.username ===  email;\r\n      }\r\n\r\n      return filterAnswer;\r\n    });\r\n\r\n    setContestFilter(tempFilter);\r\n  },[filterActive, filterDates, filterString,props.contests,filterOwn,props.hasDate, email]);\r\n\r\n  const mapContests = data => {\r\n    return data.map((el, index) => (\r\n      <SearchItem key={el._id} element={el} index={index}></SearchItem>\r\n    ));\r\n  };\r\n\r\n  const formatDate = date => {\r\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    filter(null,true,null);\r\n  }, [props.contests,filter]);\r\n\r\n  return (\r\n    <div className=\"filter\">\r\n      <div className=\"filter__criteria\">\r\n        <div className=\"filter__searchBar\">\r\n          <img\r\n            className=\"filter__searchBar__searchIcon\"\r\n            src={require(\"../../../assets/icons/magnifying-glass.svg\")}\r\n            alt=\"search-icon\"\r\n          />\r\n          <input\r\n            className=\"filter__searchBar__searchInput\"\r\n            aria-label=\"Search\"\r\n            type=\"text\"\r\n            placeholder=\"Search by contest title...\"\r\n            onChange={(e)=>setFilterString(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        {props.hasDate ? (\r\n          <div className=\"filter__actions\">\r\n            <div className=\"filter__group\">\r\n              <Flatpickr\r\n                name=\"date\"\r\n                ref={refDatePicker}\r\n                aria-label=\"Select date\"\r\n                placeholder=\"Filter end dates\"\r\n                options={{\r\n                  minDate: formatDate(new Date()),\r\n                  minuteIncrement: 10,\r\n                  mode: \"range\",\r\n                  dateFormat: \"d-m-Y\",\r\n                }}\r\n                value={filterDates}\r\n                onChange={dates => {\r\n                  setFilterDates(dates);\r\n                }}\r\n                className=\"filter__input filter__input--calendar\"\r\n              />\r\n              {filterDates && filterDates.length>0?<p className=\"filter__remove\" onClick={()=>clearDates()}>X</p>:null}\r\n              \r\n            </div>\r\n            \r\n            <div className=\"filter__group\">\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={filterActive}\r\n                  onChange={()=>setFilterActive(true)}\r\n                />\r\n                Ongoing contests\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={!filterActive}\r\n                  onChange={()=>setFilterActive(false)}\r\n                />\r\n                Already finished\r\n                \r\n              </label>\r\n            </div>\r\n            \r\n          </div>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div className=\"filter__tabs\">\r\n        <button \r\n          className={`filter__tab filter__tab--left\r\n           ${filterOwn?\"\":\"filter__tab--active\"}`}\r\n          onClick={()=>setFilterOwn(false)}>All contests</button>\r\n        <button \r\n          className={`filter__tab filter__tab--right\r\n          ${filterOwn?\"filter__tab--active\":\"\"}`}\r\n          onClick={()=>setFilterOwn(true)}>My contests</button>\r\n      </div>\r\n\r\n      <div className=\"filter__contests\">\r\n        {filtered || contestFilter.length > 0\r\n          ? mapContests(contestFilter)\r\n          : mapContests(props.contests)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nFilter.propTypes = {\r\n  contests: PropTypes.array,\r\n  hasDate: PropTypes.bool,\r\n};\r\n\r\nexport default Filter;\r\n","/*eslint no-undef: \"error\"*/\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./FilePreview.scss\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction FilePreview(props) {\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [video, setVideo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setImagePreview(null);\r\n    setVideo(null);\r\n\r\n    const getFileType = () => {\r\n      return props.file.type;\r\n    };\r\n\r\n    const isImage = () => {\r\n      const type = getFileType();\r\n      return /(jpe?g|png|gif|bmp|svg)$/i.test(type);\r\n    };\r\n\r\n    if (\r\n      getFileType().match(\"video.*\") &&\r\n      /\\.(webm|ogg|mp4)$/i.test(props.file.name)\r\n    ) {\r\n      const video = window.URL.createObjectURL(props.file);\r\n      setVideo(video);\r\n    } else if (isImage()) {\r\n      const reader = new FileReader();\r\n      reader.onload = function(e) {\r\n        setImagePreview(e.target.result);\r\n      };\r\n      reader.readAsDataURL(props.file);\r\n    }\r\n  }, [props.file]);\r\n\r\n  const render = () => {\r\n    let item;\r\n    if (imagePreview) {\r\n      item = (\r\n        <img\r\n          src={imagePreview}\r\n          className=\"filePreview__image\"\r\n          alt={props.file.name}\r\n        />\r\n      );\r\n    } else if (video) {\r\n      item = (\r\n        <video\r\n          controls\r\n          className=\"filePreview__video\"\r\n          src={video + \"#t=0.1\"}\r\n          preload=\"metadata\"\r\n          disablePictureInPicture\r\n          controlsList=\"nodownload\"\r\n        ></video>\r\n      );\r\n    } else {\r\n      item = <p>Incompatible file type</p>;\r\n    }\r\n    return item;\r\n  };\r\n\r\n  return (\r\n    <div className=\"filePreview\">\r\n      <div className=\"filePreview__content\">\r\n        <div className=\"filePreview__file\">{render()}</div>\r\n        <p className=\"filePreview__remove\" onClick={()=>props.removeFile()}>X</p>\r\n      </div>\r\n      <p className=\"filePreview__name\">{props.file.name}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nFilePreview.propTypes = {\r\n  file:PropTypes.shape({\r\n    type:PropTypes.string,\r\n    name: PropTypes.string\r\n  }),\r\n  removeFile: PropTypes.func\r\n};\r\n\r\nexport default FilePreview;\r\n","/*eslint no-undef: \"error\"*/\r\n\r\nimport React from \"react\";\r\nimport \"./FilePreviewList.scss\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport FilePreview from \"../filePreview/FilePreview\";\r\n\r\nfunction FilePreviewList(props) {\r\n\r\n  return (\r\n    <div className=\"filePreviewList\">\r\n      {props.files.map((item,index) => (\r\n        <FilePreview\r\n          file={item}\r\n          key={item.name + item.lastModified}\r\n          removeFile={()=>props.removeFile(index)}\r\n        ></FilePreview>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nFilePreviewList.propTypes = {\r\n  files:PropTypes.array,\r\n  removeFile: PropTypes.func\r\n};\r\n\r\nexport default FilePreviewList;\r\n","/*eslint no-undef: \"error\"*/\r\n\r\nimport React, { useState, useRef } from \"react\";\r\nimport \"./Home.scss\";\r\n\r\nimport ActionModal from \"../actions/actionModal/ActionModal\";\r\nimport \"../actions/actionModal/ActionModal.scss\";\r\nimport Loader from \"../actions/loader/Loader\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nimport { wrapComponent } from \"react-snackbar-alert\";\r\nimport \"../actions/Flatpickr.scss\";\r\nimport Flatpickr from \"react-flatpickr\";\r\nimport Filter from \"../search/filter/Filter\";\r\nimport FilePreviewList from \"../util/filePreviewList/FilePreviewList\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Home(props) {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [newContest, setNewContest] = useState({ private: false });\r\n  const [useRandom, setUseRandom] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n  const [files, setFiles] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const url = useSelector(state => state.root.url);\r\n  const token = useSelector(state => state.auth.token);\r\n  const useContests = () => useSelector(state => state.contests.contests, []);\r\n  const contests = useContests();\r\n\r\n  const buttonModal = useRef(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const beforeCurrentTime = date => {\r\n    return date.getTime() < new Date().getTime();\r\n  };\r\n\r\n  const createContest = async e => {\r\n    e.preventDefault();\r\n\r\n    if (!newContest.name || newContest.name.trim() === \"\")\r\n      return setErrorMsg(\"You must specify the name of your contest\");\r\n    if (!newContest.endDate)\r\n      return setErrorMsg(\"Your contest needs an end date\");\r\n    if (beforeCurrentTime(newContest.endDate))\r\n      return setErrorMsg(\"Your contest end date can`t be before now\");\r\n    if (!useRandom && (!files || files.length === 0))\r\n      return setErrorMsg(\r\n        \"You must upload something for contest.... I mean anything\"\r\n      );\r\n    if (useRandom && newContest.limit === undefined)\r\n      return setErrorMsg(\"You need to select a type of image\");\r\n    if (useRandom && (!newContest.topic || newContest.topic.trim() === \"\"))\r\n      return setErrorMsg(\"You must specify the topic of your contest\");\r\n\r\n    let formData = new FormData();\r\n    formData.append(\"name\", newContest.name);\r\n\r\n    if (newContest.topic) formData.append(\"topic\", newContest.topic);\r\n    if (newContest.limit) formData.append(\"limit\", newContest.limit);\r\n    if (newContest.private !== undefined)\r\n      formData.append(\"private\", newContest.private ? \"1\" : \"0\");\r\n\r\n    formData.append(\"endDate\", newContest.endDate);\r\n    files.forEach((el, index) => {\r\n      formData.append(`img_${index}`, el);\r\n    });\r\n\r\n    await sendContest(formData);\r\n  };\r\n\r\n  const sendContest = async data => {\r\n    setIsLoading(true);\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    };\r\n\r\n    try {\r\n      let ans = await axios.post(`${url}contests`, data, options);\r\n\r\n      setIsLoading(false);\r\n      history.push(`/contests/${ans.data.insertedId}`);  \r\n    }\r\n    catch (err){\r\n      if(err.message.includes(\"Network\")){\r\n        props.createSnackbar({\r\n          message: \"You cant create a contest without Internet\",\r\n          progressBar: false,\r\n          timeout: 4000\r\n        });\r\n      }\r\n      else \r\n      {\r\n        props.createSnackbar({\r\n          message: \"An unexpected error just happened, please be patient while we fix this\",\r\n          progressBar: false,\r\n          timeout: 4000\r\n        });\r\n      }\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const onChange = e => {\r\n    let tempFiles = files.concat(Array.from(e.target.files));\r\n    setFiles(tempFiles);\r\n  };\r\n\r\n  const formatDate = date => {\r\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n  };\r\n\r\n  const removeFile = index => {\r\n    const newFiles = [...files];\r\n    newFiles.splice(index, 1);\r\n    setFiles(newFiles);\r\n  };\r\n\r\n  const modalFormBody = (\r\n    <form className=\"contestModal\" onSubmit={e => createContest(e)}>\r\n      <div className=\"contestModal__row\">\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"name\" className=\"contestModal__inputLabel\">\r\n            Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            aria-label=\"name\"\r\n            onChange={e => {\r\n              setErrorMsg(null);\r\n              setNewContest({ ...newContest, name: e.target.value });\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"date\" className=\"contestModal__inputLabel\">\r\n            End Date\r\n          </label>\r\n          <Flatpickr\r\n            aria-label=\"Date end\"\r\n            name=\"date\"\r\n            placeholder=\"Contest end date\"\r\n            options={{\r\n              minDate: formatDate(new Date()),\r\n              minuteIncrement: 10,\r\n              mode: \"single\",\r\n              dateFormat: \"d-m-Y\",\r\n            }}\r\n            value={newContest.endDate}\r\n            onChange={date => {\r\n              setErrorMsg(null);\r\n              setNewContest({ ...newContest, endDate: new Date(date) });\r\n            }}\r\n            className=\"modal__form__input modal__form__input--calendar\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"contestModal__row\">\r\n        <div className=\"contestModal__col\">\r\n          <label htmlFor=\"images\" className=\"contestModal__inputLabel contestModal__inputLabel--multimedia\">\r\n            Your multimedia\r\n          </label>\r\n\r\n          <FilePreviewList\r\n            files={files}\r\n            removeFile={index => removeFile(index)}\r\n          ></FilePreviewList>\r\n\r\n          <button className=\"contestModal__fileContainer\">\r\n            {files && files.length !== 0\r\n              ? \"Add more\"\r\n              : \"Add your multimedia\"}\r\n            <input\r\n              type=\"file\"\r\n              id=\"multi\"\r\n              accept=\"image/*,video/mp4,video/x-m4v,video/*\"\r\n              onChange={onChange}\r\n              multiple\r\n            />\r\n          </button>\r\n\r\n          {/*Use random images*/}\r\n          <label htmlFor=\"useRandomImg\" className=\"contestModal__inputLabel\">\r\n            <input\r\n              name=\"useRandomImg\"\r\n              id=\"useRandomImg\"\r\n              type=\"checkbox\"\r\n              checked={useRandom}\r\n              onChange={() => {\r\n                console.log(\"llega\");\r\n                setNewContest({\r\n                  ...newContest,\r\n                  limit: !useRandom && !newContest.limit ? \"1\" : undefined,\r\n                });\r\n                setUseRandom(!useRandom);\r\n              }}\r\n            />\r\n            Wanna complete with random images?\r\n          </label>\r\n\r\n          {useRandom ? (\r\n            <div>\r\n              <label htmlFor=\"topic\" className=\"contestModal__inputLabel\">\r\n                Topic\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"topic\"\r\n                  aria-label=\"topic\"\r\n                  onChange={e => {\r\n                    setErrorMsg(null);\r\n                    setNewContest({ ...newContest, topic: e.target.value });\r\n                  }}\r\n                />\r\n              </label>\r\n\r\n              <label htmlFor=\"limit\" className=\"contestModal__inputLabel\">\r\n                How many? \r\n                <input\r\n                  type=\"number\"\r\n                  name=\"limit\"\r\n                  value={newContest.limit ? parseInt(newContest.limit) : \"\"}\r\n                  min=\"1\"\r\n                  step=\"1\"\r\n                  aria-label=\"limit\"\r\n                  onChange={e => {\r\n                    setErrorMsg(null);\r\n                    setNewContest({ ...newContest, limit: e.target.value });\r\n                  }}\r\n                />\r\n              </label>\r\n            </div>\r\n          ) : null}\r\n\r\n          {/* Private contests*/}\r\n          <label htmlFor=\"private\" className=\"contestModal__inputLabel\">\r\n            <input\r\n              name=\"private\"\r\n              id=\"private\"\r\n              type=\"checkbox\"\r\n              checked={newContest.private}\r\n              onChange={() =>\r\n                setNewContest({ ...newContest, private: !newContest.private })\r\n              }\r\n            />\r\n            Wanna make your contest private?\r\n          </label>\r\n\r\n          {newContest.private?<p className=\"contestModal__disclaimer\">A new access key will be generated and displayed on the top right corner of the contest window. Give this key to those persons that you want to give access to your contest.</p>:null}\r\n        </div>\r\n      </div>\r\n      <div className=\"contestModal__col\">\r\n        {errorMsg ? <p className=\"modal__form__errorMsg\">{errorMsg}</p> : null}\r\n        <button className=\"home__button home__button--internal\" type=\"submit\">\r\n          + NEW TOP IMAGE\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  const deactivateModal = () => {\r\n    setNewContest({\r\n      name: \"\",\r\n      type: \"\",\r\n      endDate: null,\r\n      images: [],\r\n    });\r\n\r\n    console.log(\"Deactivate?\");\r\n    setErrorMsg(\"\");\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {isLoading ? <Loader /> : null}\r\n\r\n      <button\r\n        className=\"home__button\"\r\n        onClick={() => setIsModalOpen(true)}\r\n        ref={buttonModal}\r\n      >\r\n        <p className=\"home__plus\">+</p>\r\n        NEW TOP IMAGE\r\n      </button>\r\n\r\n      {isModalOpen ? null : (\r\n        <button\r\n          className=\"home__fab\"\r\n          onClick={() => setIsModalOpen(true)}\r\n          ref={buttonModal}\r\n        >\r\n          +\r\n        </button>\r\n      )}\r\n\r\n      <Filter contests={contests} hasDate={true}></Filter>\r\n\r\n      {isModalOpen ? (\r\n        <ActionModal\r\n          close={() => {\r\n            setIsModalOpen(false);\r\n            if (buttonModal.current) {\r\n              buttonModal.current.focus();\r\n            }\r\n          }}\r\n          modalHeaderTitle=\"New Top Image\"\r\n          modalBody={modalFormBody}\r\n          okCBK={() => {}}\r\n          cancelCBK={() => {\r\n            deactivateModal();\r\n          }}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nHome.propTypes={\r\n  createSnackbar: PropTypes.func\r\n}\r\n\r\nexport default wrapComponent(Home);\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Home.scss\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { logout as deleteUserInfo } from \"../../util/state/localStorageUtil\";\r\nimport {logout} from \"../../store/auth\";\r\nimport HomeComponent from \"../../components/home/Home\";\r\n\r\nfunction Home(props) {\r\n\r\n  const dateTimeout = useSelector(state => state.auth.tokenTimeout);\r\n  const dispatch= useDispatch();\r\n  useEffect(() => {\r\n    let timeout=setTimeout(() => {\r\n      deleteUserInfo();\r\n      dispatch(logout());\r\n      props.history.push(\"/login\");\r\n    }, new Date(dateTimeout).getTime() - new Date().getTime() );\r\n    return ()=>{\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [props.history, dateTimeout,dispatch]);\r\n  return (\r\n    <div className=\"home__page\">\r\n      <div className=\"home__bg\"></div>\r\n      <HomeComponent/>\r\n    </div>\r\n  );\r\n}\r\n\r\nHome.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\nexport default withRouter(Home);","/*global require*/\r\n/*eslint no-undef: \"error\"*/\r\n\r\nimport React, { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./Contest.scss\";\r\nimport axios from \"axios\";\r\n\r\nimport { wrapComponent } from \"react-snackbar-alert\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Contest(props) {\r\n  const contest = useSelector(state => state.contests.curContest);\r\n  const token = useSelector(state => state.auth.token);\r\n  const email = useSelector(state =>\r\n    state.auth.user ? state.auth.user.email : \"\"\r\n  );\r\n  const url = useSelector(state => state.root.url);\r\n\r\n  const accessKeyText = useRef(null);\r\n  const featuredRef = useRef(null);\r\n\r\n  const sortedImages = useMemo(() => {\r\n    const compareImagesByLikes = (item1, item2) => {\r\n      return (\r\n        (item2.likes || 0) +\r\n        (item1.dislikes || 0) -\r\n        (item1.likes || 0) -\r\n        (item2.dislikes || 0)\r\n      );\r\n    };\r\n    return [...contest.images].sort(compareImagesByLikes);\r\n  }, [contest.images]);\r\n\r\n  const [curImage, setCurImage] = useState(sortedImages[0]);\r\n\r\n  useEffect(() => {\r\n    if (curImage && sortedImages) {\r\n      const curContestIndex = sortedImages.findIndex(\r\n        item => item.url === curImage.url\r\n      );\r\n      setCurImage(sortedImages[curContestIndex]);\r\n    } else {\r\n      setCurImage(sortedImages[0]);\r\n    }\r\n  }, [sortedImages, curImage]);\r\n\r\n  const parseDate = dateP => {\r\n    const date = new Date(dateP);\r\n    return (\r\n      date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear()\r\n    );\r\n  };\r\n\r\n  const getImageIndex = () => {\r\n    return contest.images.findIndex(item => item.url === curImage.url);\r\n  };\r\n\r\n  const likePost = async isDislike => {\r\n    const options = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    const body = { isDislike: isDislike };\r\n    try {\r\n      await axios.post(\r\n        `${url}contests/${props.contestId}/images/${getImageIndex()}/likes`,\r\n        body,\r\n        options\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n\r\n      props.createSnackbar({\r\n        message: `You cant ${isDislike?\"dislike\":\"like\"} a contest when offline`,\r\n        progressBar: false,\r\n        timeout: 4000\r\n      });\r\n    }\r\n  };\r\n\r\n  const curImageSet = url => {\r\n    const index = contest.images.findIndex(item => item.url === url);\r\n    setCurImage(contest.images[index]);\r\n    scrollToRef(featuredRef);\r\n  };\r\n\r\n  const hasLiked = () => {\r\n    return (curImage.likedBy || []).findIndex(item => item === email) !== -1;\r\n  };\r\n\r\n  const hasDisliked = () => {\r\n    return (curImage.dislikedBy || []).findIndex(item => item === email) !== -1;\r\n  };\r\n\r\n  const copyAccessKey = () => {\r\n    props.createSnackbar({\r\n      message: \"Access key copied to clipboard\",\r\n      progressBar: false,\r\n      timeout: 4000\r\n    });\r\n    accessKeyText.current.select();\r\n    document.execCommand(\"copy\");\r\n\r\n    accessKeyText.current.setSelectionRange(0, 0);\r\n    accessKeyText.current.blur();\r\n  };\r\n\r\n  const renewAccessKey = async () => {\r\n    const options = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    try {\r\n      await axios.put(\r\n        `${url}contests/${props.contestId}/accessKey`,\r\n        {},\r\n        options\r\n      );\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const scrollToRef = ref => {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n    if (c > ref.current.offsetTop - 100) {\r\n      window.requestAnimationFrame(() => scrollToRef(ref));\r\n      window.scrollTo(0, Math.max(c - c / 8, ref.current.offsetTop - 100));\r\n    }\r\n  };\r\n\r\n  const isVideo = url => {\r\n    return /\\.(webm|ogg|mp4)$/i.test(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"contest\">\r\n      {// Action buttons for creator\r\n        contest && contest.private === 1 && email === contest.username ? (\r\n          <div className=\"contest__actions\">\r\n            <div className=\"contest__action\">\r\n              <button className=\"contest__button\" onClick={() => copyAccessKey()}>\r\n                <img\r\n                  src={require(\"../../assets/icons/link.svg\")}\r\n                  alt=\"Copy AccessKey button\"\r\n                />\r\n              </button>\r\n              <p className=\"contest__label\">Copy access key</p>\r\n            </div>\r\n          \r\n            <textarea\r\n              className=\"contest__accesskey\"\r\n              readOnly\r\n              ref={accessKeyText}\r\n              value={contest.accessKey ? contest.accessKey : \"\"}\r\n            />\r\n          \r\n            <div className=\"contest__action\">\r\n              <button className=\"contest__button\" onClick={() => renewAccessKey()}>\r\n                <img\r\n                  src={require(\"../../assets/icons/autorenew.svg\")}\r\n                  alt=\"Renew AccessKey button\"\r\n                />\r\n              </button>\r\n              <p className=\"contest__label\">Renew access key</p>\r\n            </div>\r\n          \r\n          </div>\r\n        ) : null}\r\n\r\n      {/* COntent */}\r\n      <h2 className=\"contest__name\">{contest ? contest.name : null}</h2>\r\n      <div className=\"contest__header\">\r\n        <p>Topic: {contest.topic}</p>\r\n        <p>End Date: {parseDate(contest.endDate)}</p>\r\n      </div>\r\n      <div className=\"contest__main\">\r\n        <div className=\"contest__list\">\r\n          <h2 className=\"contest__listName\">Contest images</h2>\r\n          {sortedImages.map(el => (\r\n            <div className=\"contest__preview\" key={el.url}>\r\n              {isVideo(el.url) ? (\r\n                <video\r\n                  src={el.url}\r\n                  className=\"contest__card\"\r\n                  preload=\"metadata\"\r\n                  disablePictureInPicture\r\n                  controlsList=\"nodownload\"\r\n                  onClick={e => {\r\n                    e.preventDefault();\r\n                    curImageSet(el.url);\r\n                  }}\r\n                ></video>\r\n              ) : (\r\n                <button\r\n                  className=\"contest__card\"\r\n                  style={{ backgroundImage: \"url(\" + el.url + \")\" }}\r\n                  aria-label=\"button\"\r\n                  onClick={() => curImageSet(el.url)}\r\n                ></button>\r\n              )}\r\n\r\n              <p className=\"contest__preview--likes\">\r\n                Score: {el.likes - el.dislikes}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {curImage ? (\r\n          <div className=\"contest__featured\" ref={featuredRef}>\r\n            {isVideo(curImage.url) ? (\r\n              <video\r\n                src={curImage.url}\r\n                className=\"contest__card contest__card--main\"\r\n                preload=\"metadata\"\r\n                disablePictureInPicture\r\n                controlsList=\"nodownload\"\r\n                controls\r\n              ></video>\r\n            ) : (\r\n              <div\r\n                className=\"contest__card contest__card--main\"\r\n                style={{ backgroundImage: \"url(\" + curImage.url + \")\" }}\r\n              ></div>\r\n            )}\r\n\r\n            <div className=\"contest__like\">\r\n              <div className=\"contest__likeButtons\">\r\n                <button\r\n                  className=\"contest__icon\"\r\n                  alt=\"likes for item\"\r\n                  aria-label=\"like\"\r\n                  tabIndex=\"0\"\r\n                  style={{\r\n                    backgroundImage:\r\n                      \"url(\" +\r\n                      require(`../../assets/icons/like${\r\n                        hasLiked() ? \"\" : \"U\"\r\n                      }.svg`) +\r\n                      \")\",\r\n                  }}\r\n                  onClick={() => likePost(false)}\r\n                ></button>\r\n                <p className=\"contest__numLikes\">{curImage.likes}</p>\r\n                <button\r\n                  className=\"contest__icon\"\r\n                  aria-label=\"dislike\"\r\n                  alt=\"dislikes for item\"\r\n                  style={{\r\n                    backgroundImage:\r\n                      \"url(\" +\r\n                      require(`../../assets/icons/dislike${\r\n                        hasDisliked() ? \"\" : \"U\"\r\n                      }.svg`) +\r\n                      \")\",\r\n                  }}\r\n                  onClick={() => likePost(true)}\r\n                ></button>\r\n                <p className=\"contest__numLikes\">{curImage.dislikes}</p>\r\n              </div>\r\n              <p className=\"contest__numLikes\">\r\n                Total score: {curImage.likes - curImage.dislikes}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nContest.propTypes = {\r\n  contestId: PropTypes.string,\r\n  createSnackbar: PropTypes.func\r\n};\r\n\r\nexport default wrapComponent(Contest);\r\n","import React, { useState,useEffect } from \"react\";\r\nimport { setCurContest } from \"../../store/contests\";\r\nimport { storeAccessKey } from \"../../store/accessKey\";\r\nimport { saveAccessKey } from \"../../util/state/localStorageUtil\";\r\n\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { withRouter, useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport Contest from \"../../components/contest/Contest\";\r\nimport ActionModal from \"../../components/actions/actionModal/ActionModal\";\r\nimport Loader from \"../../components/actions/loader/Loader\";\r\n\r\nimport \"./Contest.scss\";\r\nimport axios from \"axios\";\r\n\r\nfunction ContestPage() {\r\n  const url = useSelector(state => state.root.url);\r\n  const contest = useSelector(state => state.contests.curContest);\r\n  const token = useSelector(state => state.auth.token);\r\n  const storedAccessKey = useSelector(state => state.accessKey.accessKey);\r\n\r\n  let { id } = useParams();\r\n  let history=useHistory();\r\n\r\n\r\n  const [privateValidation,setPrivateValidation] = useState(false);\r\n  const [offlineMode,setOfflineMode] = useState(false);\r\n  const [accessKey, setAccessKey] = useState();\r\n  const [isLoading,setIsLoading] = useState(false);\r\n\r\n  const [errorMsg,setErrorMsg]= useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const contestId= (contest || {})._id;\r\n\r\n  const contestPrivate= (contest || {}).private;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        setIsLoading(true);\r\n        const options = {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"access-key\":storedAccessKey\r\n          },\r\n        };\r\n    \r\n        const res = await axios.get(`${url}contests/${id}`,options);\r\n        dispatch(setCurContest(res.data));\r\n      } catch (err) {\r\n\r\n        if((contestPrivate===0) && contestId===id)\r\n        {\r\n          setIsLoading(false);\r\n          return;\r\n        }\r\n        \r\n        if(err.response && err.response.status!== 403)\r\n          setOfflineMode(true);\r\n        if(err.message.includes(\"Network\"))\r\n          setOfflineMode(true);\r\n\r\n\r\n        setPrivateValidation(true);\r\n\r\n      } finally{\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    fetchData();\r\n\r\n  }, [id,url,dispatch,token, storedAccessKey,contestId,contestPrivate]);\r\n\r\n  const getData = async ()=>{\r\n    try {\r\n      setIsLoading(true);\r\n      const options = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          \"access-key\":accessKey\r\n        },\r\n      };\r\n  \r\n      const res = await axios.get(`${url}contests/${id}`,options);\r\n      setPrivateValidation(false);\r\n      setErrorMsg(null);\r\n\r\n      saveAccessKey(accessKey);\r\n      dispatch(storeAccessKey(accessKey));\r\n\r\n      dispatch(setCurContest(res.data));\r\n    } catch (err) {\r\n      if(err.response && err.response.status===403){\r\n        setErrorMsg(err.response.data.message);\r\n      }else{\r\n        setErrorMsg(\"Internal error, please try again later\");\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const modalFormBody=(\r\n    <form className=\"contestModal\">\r\n      <input\r\n        type=\"text\"\r\n        name=\"accessKey\"\r\n        aria-label=\"accessKey\"\r\n        onChange={(e)=>{setAccessKey(e.target.value);}}\r\n      />\r\n    </form>\r\n\r\n  );\r\n\r\n  return (\r\n    <div className=\"contestPage\">\r\n      {isLoading ? \r\n        <div className=\"contestPage__loader\">\r\n          <Loader />\r\n        </div> : \r\n        null}\r\n\r\n      {\r\n        privateValidation ? \r\n          <ActionModal\r\n            modalHeaderTitle={offlineMode?\r\n              \"You cant access private rooms offline :(\":\r\n              \"Please enter your access key\"}\r\n            modalBody={offlineMode?null:modalFormBody}\r\n            okCBK={offlineMode?null:getData}\r\n            okText =\"OK\"\r\n            cancelCBK={()=>{history.goBack();}}\r\n            cancelText=\"Go Back\"\r\n            errorMsg={errorMsg}\r\n          />:null  \r\n      }\r\n      <div className=\"contestPage__background\"></div>\r\n      {contest && !privateValidation ? <Contest contestId={id}></Contest> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(ContestPage);\r\n","/* eslint-disable no-undef */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./tutorial.scss\";\r\n\r\nconst tutorialItems = [\r\n  {\r\n    title: \"Sign up\",\r\n    description:\r\n      \"Sign up to TopImage to create contests or see previous contests created by others\",\r\n  },\r\n  {\r\n    title: \"Create a contest\",\r\n    description: \"Click on the New Top Image button to create your own contest\",\r\n  },\r\n  {\r\n    title: \"Mandatory contest setup\",\r\n    description: \"Choose a name and end date for your contest.\",\r\n  },\r\n  {\r\n    title: \"Contest options\",\r\n    description:\r\n      \"You then have three more options: Upload your own multimedia with the 'Add multimedia button', complete your contest\" +\r\n      \" with random images based on a topic and quantity, and make your contest private (only you can give access) or public.\" +\r\n      \" Finally click on the 'Top Image' button to start the contest\",\r\n  },\r\n  {\r\n    title: \"View contests\",\r\n    description:\r\n      \"See all the current running contests in the grid below. Also go back and forth between all the contests and the ones you created with the purple tabs on top.\",\r\n  },\r\n  {\r\n    title: \"Search\",\r\n    description:\r\n      \"Use the search bar to filter contests by name. You can also choose a range of dates and whether the contest has ended or not\",\r\n  },\r\n  {\r\n    title: \"Go into a contest\",\r\n    description: \"Click on a contest preview to go into its details\",\r\n  },\r\n  {\r\n    title: \"Select an image\",\r\n    description:\r\n      \"Select an image you like from the list on the left to see it bigger and be able to rate it\",\r\n  },\r\n  {\r\n    title: \"Rate an image\",\r\n    description: \"Use the like and dislike options below to rate the image\",\r\n  },\r\n  {\r\n    title: \"Share your private contest\",\r\n    description:\r\n      \"If your contest is private, you can copy the unique code on the top right corner to send it \" +\r\n      \"to your friends so that they can rate it (first button) or create a new code (second button)\",\r\n  },\r\n];\r\nfunction Tutorial(props) {\r\n  return (\r\n    <div className=\"tutorial\">\r\n      <h1 className=\"tutorial__title\">Tutorial</h1>\r\n      <button\r\n        className=\"tutorial__button\"\r\n        onClick={() => props.history.push(\"/\")}\r\n      >\r\n        Go to main\r\n      </button>\r\n\r\n      <h2>What is this all about?</h2>\r\n      <p>\r\n        Top Image allows you to create contests. Each contest hold certain\r\n        images which people can vote, to select the best one <br></br><br></br>\r\n        You can create public or private contests, and even complete with random\r\n        images if you want to\r\n      </p>\r\n\r\n      <ul id=\"menu\">\r\n        {tutorialItems.map((item, index) => (\r\n          <li key={index}><a href={`#item${index}`}>{item.title}</a></li>\r\n        ))}\r\n      </ul>\r\n\r\n      <div className=\"tutorial__list\">\r\n        {tutorialItems.map((item, index) => (\r\n          <div className=\"tutorial__item\" key={index} id={`item${index}`}>\r\n            <hr />\r\n            <h3>{item.title}</h3>\r\n            <p>{item.description}</p>\r\n            <img\r\n              src={require(\"../../assets/tuto/tuto\" + (index + 1) + \".png\")}\r\n              alt=\"Tutorial step\"\r\n            />\r\n            <a href=\"#menu\" className=\"tutorial__backToMenu\">Back to index</a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nTutorial.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default withRouter(Tutorial);\r\n","/* eslint-disable no-undef */\r\nimport React, { useState } from \"react\";\r\nimport \"./Nav.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout as logoutAction } from \"../../store/auth\";\r\nimport { logout as deleteUserInfo } from \"../../util/state/localStorageUtil\";\r\n\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Nav() {\r\n  const [isUserModalOpen, setUserModalOpen] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const logout = () => {\r\n    deleteUserInfo();\r\n    dispatch(logoutAction());\r\n  };\r\n\r\n  return (\r\n    <nav className={`nav ${isMobile ? \"nav--active\" : \"\"}`}>\r\n      <div className=\"nav__header\">\r\n        <h1 className=\"nav__title\">\r\n          <Link className=\"nav__logo\" to=\"/\">\r\n            TOP IMAGE\r\n            <img\r\n              className=\"nav__img\"\r\n              src={require(\"../../assets/icons/logo.svg\")}\r\n              alt=\"App logo. A lightbulb inside an icon\"\r\n            />\r\n          </Link>\r\n        </h1>\r\n        <button\r\n          className=\"nav__toggle\"\r\n          onClick={() => {\r\n            setIsMobile(!isMobile);\r\n          }}\r\n        >\r\n          <img\r\n            src={require(\"../../assets/icons/menu.svg\")}\r\n            alt=\"Toggler for menu when on mobile\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <div className={`${isMobile ? \"nav__actions--active\" : \"nav__actions\"}`}>\r\n        <div className=\"nav__action\">\r\n          <NavLink\r\n            exact={true}\r\n            className=\"nav__link\"\r\n            activeClassName=\"nav__link--active\"\r\n            to=\"/\"\r\n          >\r\n            Home\r\n          </NavLink>\r\n        </div>\r\n\r\n        <div className=\"nav__user\">\r\n          <NavLink\r\n            exact={true}\r\n            className=\"nav__link\"\r\n            activeClassName=\"nav__link--active\"\r\n            to=\"/tutorial\"\r\n          >\r\n            {\" \"}\r\n            <img\r\n              className=\"nav__userIcon\"\r\n              src={require(\"../../assets/icons/help.svg\")}\r\n              alt=\"help\"\r\n            />\r\n          </NavLink>\r\n          <img\r\n            className=\"nav__userIcon\"\r\n            src={require(\"../../assets/icons/person.svg\")}\r\n            alt=\"user\"\r\n            onClick={() => setUserModalOpen(!isUserModalOpen)}\r\n          />\r\n        </div>\r\n        <div className=\"nav__user--responsive\">\r\n          <div className=\"nav__action\">\r\n            <NavLink\r\n              exact={true}\r\n              className=\"nav__link\"\r\n              activeClassName=\"nav__link--active\"\r\n              to=\"/tutorial\"\r\n            >\r\n              Tutorial\r\n            </NavLink>\r\n          </div>\r\n          <div className=\"nav__action\">\r\n            <button onClick={logout} className=\"nav__mockLink\">\r\n              Log Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {isUserModalOpen ? (\r\n        <div className=\"nav__modal\">\r\n          <p className=\"nav__modalOption\" onClick={logout}>\r\n            Cerrar sesin\r\n          </p>\r\n        </div>\r\n      ) : null}\r\n    </nav>\r\n  );\r\n}\r\n\r\nNav.propTypes = {\r\n  history: PropTypes.any,\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Login from \"../pages/login/Login\";\r\nimport Index from \"../pages/home/Home\";\r\nimport Contest from \"../pages/contest/Contest\";\r\nimport Tutorial from \"../pages/tutorial/Tutorial\";\r\nimport Nav from \"../components/nav/Nav\";\r\nimport \"./App.css\";\r\n\r\nfunction AppRouter() {\r\n  const token = useSelector(state => state.auth.token);\r\n  return (\r\n    <Router>\r\n      {token ? <Nav /> : null}\r\n      <Switch>\r\n        <Route path=\"/tutorial\" component={Tutorial} />\r\n        <Route path=\"/\" exact render={() => token ? <Index></Index> : <Redirect to=\"/login\" />} />\r\n        <Route path=\"/login\" render={() => token ? <Redirect to=\"/\" /> : <Login></Login>} />\r\n        <Route path=\"/contests/:id\" render={() => token ? <Contest></Contest> : <Redirect to=\"/login\" />}/>\r\n        <Route path=\"*\" render={() => <Redirect to=\"/login\" />} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AppRouter;\r\n","import React,{useState, useEffect} from \"react\";\r\nimport Router from \"./Router\";\r\nimport \"./App.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {useSelector,useDispatch} from \"react-redux\";\r\nimport { setContests, addContest,deleteContest,updateContest } from \"../store/contests\";\r\n\r\nimport socketIOClient from \"socket.io-client\";\r\nimport * as Events from \"../util/socketio/events\";\r\n\r\nfunction Main() {\r\n  const [isOnline, setIsOnline] = useState(window.navigator.onLine);\r\n  const updateNetworkInfo = () => {\r\n    setIsOnline(window.navigator.onLine);\r\n    if(window.navigator.onLine){\r\n      setSocket(null);\r\n    }\r\n  };  \r\n  const [socket,setSocket]=useState(null);\r\n\r\n  const url = useSelector(state => state.root.url);\r\n  const socketUrl = useSelector(state => state.root.socketUrl);\r\n  const token=useSelector(state=>state.auth.token);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(()=>{\r\n    async function getData() {\r\n      try {\r\n        let res = await axios.get(`${url}contests`,{headers:{Authorization:`Bearer ${token}`}});\r\n        dispatch(setContests(res.data));  \r\n      } catch (err) {\r\n        console.log(err);\r\n        console.log(err.response);\r\n      }\r\n    }\r\n\r\n    function setupOnlineListeners(socket){\r\n      window.addEventListener(\"offline\", ()=>{\r\n        socket.disconnect();\r\n        updateNetworkInfo();\r\n      });\r\n      window.addEventListener(\"online\", updateNetworkInfo);\r\n    }\r\n\r\n    function setupSocket(){\r\n      if(!isOnline){\r\n        return;\r\n      }\r\n\r\n      const tempSocket = socketIOClient(socketUrl);\r\n      tempSocket.on(Events.CONTEST_EVENT, (data) => \r\n      {\r\n        switch(data.action){\r\n        case Events.ACTION_INSERT:\r\n          return dispatch(addContest(data.payload));\r\n        case Events.ACTION_DELETE:\r\n          return dispatch(deleteContest(data.payload));\r\n        case Events.ACTION_UPDATE:\r\n          return dispatch(updateContest(data.payload));\r\n        default :\r\n          return;\r\n        }\r\n            \r\n      });\r\n      return tempSocket;\r\n    }\r\n\r\n    getData();\r\n\r\n    const socket=setupSocket();\r\n\r\n    setupOnlineListeners(socket);\r\n  \r\n    return ()=> {\r\n      window.removeEventListener(\"offline\", ()=>{\r\n        if(socket)\r\n        {\r\n          socket.disconnect();\r\n        }\r\n        updateNetworkInfo();\r\n      });\r\n      window.removeEventListener(\"online\", updateNetworkInfo);\r\n    };\r\n  },[dispatch,socketUrl,token,url,isOnline,socket]);\r\n\r\n\r\n  return (\r\n    <Router>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { SnackbarProvider } from \"react-snackbar-alert\";\r\nimport store from \"../store/mainStore\";\r\nimport CustomSnackbarComponent from \"../components/util/snackbar/Snackbar\";\r\nimport \"./App.css\";\r\n\r\nimport Main from \"./Main\";\r\n\r\nfunction AppRouter() {\r\n  return (\r\n    <Provider store={store}>\r\n      <SnackbarProvider component={CustomSnackbarComponent}>\r\n        <Main />\r\n      </SnackbarProvider>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default AppRouter;\r\n","/* eslint-disable no-undef */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/index.scss\";\r\nimport App from \"./app/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}